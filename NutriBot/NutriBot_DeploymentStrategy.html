<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Shilpa Musale</title>
        <link rel="icon" type="image/x-icon" href="../assets/favicon.ico" />
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="../css/styles.css" rel="stylesheet" />
        <style>
            .indented {
              text-indent: 2em;
            }
            .intent-table {
    width: 100%;
    border-collapse: collapse;
    font-family: Arial, sans-serif;
    font-size: 14px;
    margin-top: 1em;
  }

  .intent-table th, .intent-table td {
    border: 1px solid #ddd;
    padding: 12px 16px;
    vertical-align: top;
  }

  .intent-table th {
    background-color: #f2f2f2;
    font-weight: bold;
    text-align: left;
    color: #333;
  }

  .intent-table tr:nth-child(even) {
    background-color: #fafafa;
  }

  .intent-table tr:hover {
    background-color: #f1f1f1;
  }

  .intent-table td:first-child {
    font-weight: 600;
    color: #2c3e50;
    white-space: nowrap;
  }
          </style>
    </head>
    
    <body>
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg navbar-light" id="mainNav">
            <div class="container px-4 px-lg-5">
                <a class="navbar-brand" href="../index.html">Shilpa Musale (Ishi)</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                    Menu
                    <i class="fas fa-bars"></i>
                </button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav ms-auto py-4 py-lg-0">
                        <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="../index.html">Home</a></li>
                        <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="../about.html">About</a></li>
                    </ul>
                </div>
            </div>
        </nav>
        
        <!-- Page Header-->
        <header class="masthead" style="background-image: url('../assets/img/home-bg.jpg')">
            <div class="container position-relative px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-md-10 col-lg-8 col-xl-7">
                        <div class="post-heading">
                            <h1>Designing NutriBot: A Domain-Aware AI Assistant for Diet & Wellness</h1>
                            
                            <!-- <span class="meta">
                                Posted by
                                <a href="#!">Start Bootstrap</a>
                                on August 24, 2023
                            </span> -->
                        </div>
                    </div>
                </div>
            </div>
        </header>
        <!-- Post Content-->
        <div class="container px-4 px-lg-5">
            <div class="row gx-4 gx-lg-5">
                <!-- Left Sidebar Navigation -->
                <div class="col-md-3">
                    <nav id="toc" class="sticky-top">
                        <h3>Other Articles</h3>
                        <ul class="nav flex-column">
                            
                            <li class="nav-item"><a class="nav-link" href="../Recommendation_system/recommendation_intro.html">Personalizing Entertainment: The Math & Magic Behind Movie Suggestions</a></li>
                            <li class="nav-item"><a class="nav-link" href="../Sinai/sinai_intro.html">Leveraging Community Health Workers & Social Determinants of Health for Predicting Emergency Department Readmissions</a></li>
                            <li class="nav-item"><a class="nav-link" href="../Syndemics/syndemics_intro.html">Unlocking the Syndemics Approach: How Machine Learning Reveals Disease Interactions</a></li>
                        </ul>
                    </nav>
                </div>
                 <!-- Blog Post Content -->
                    <div class="col-md-9">
                        <article class="mb-4">
                            <div class="container" >
                                <h2 class="decorative-heading">Section 4: Jarvis — Our RAG Engine for Grounded Responses</h2><br/>
                                <h3 class="decorative-heading">Retrieval-Augmented Generation that actually knows what it’s talking about</h3>
                                <p>While most LLMs can generate fluent text, they often struggle with factuality. We needed NutriBot to do more than “sound confident”—we needed it to respond with real evidence, especially when it came to nutrition-sensitive queries like:
                                    <ul>
                                        <li>“What’s a good post-workout meal for someone with prediabetes?”</li>
                                        <li>“Can magnesium supplements interfere with iron absorption?”</li>
                                    </ul>
                                </p>
                                <h3 class="decorative-heading">What is RAG (and why it matters)?</h3>
                                <p>RAG combines the best of two worlds:
                                    <ol>
                                        <li>A vector-based retriever that finds relevant chunks of data (e.g., from a textbook, guideline PDF, or user meal history)</li>
                                        <li>A large language model that reads those chunks and generates a context-grounded answer</li>
                                    </ol>
                                </p>
                                <p>The result is an assistant that not only speaks fluently—but also stays close to the source.</p>
                                <h3 class="decorative-heading">Our RAG Stack: What Powers Jarvis</h3>
                                <p>Here’s what we used to bring RAG to life in NutriBot:</p>
                                <table class="intent-table">
                                    <tr><th>Component</th><th>Technology</th></tr>
                                    <tr>
                                        <td>Document Store</td>
                                        <td>Nutrition guidelines, research snippets, curated educational docs</td>
                                    </tr>
                                    <tr>
                                        <td>Chunking Strategy</td>
                                        <td>Section-level + semantic-aware chunking using LangChain tools</td>
                                    </tr>
                                    <tr>
                                        <td>Embedding Model</td>
                                        <td>sentence-transformers/all-MiniLM-L6-v2</td>
                                    </tr>
                                    <tr>
                                        <td>Vector Database</td>
                                        <td>ChromaDB, chosen for its speed, open-source flexibility, and local prototyping</td>
                                    </tr>
                                    <tr>
                                        <td>Retriever</td>
                                        <td>LangChain-compatible retriever using cosine similarity</td>
                                    </tr>
                                    <tr>
                                        <td>LLM for Response</td>
                                        <td>LLaMA 3.3, deployed via AWS Bedrock, used to generate final answers from retrieved context</td>
                                    </tr>
                                    
                                </table>
                                <h3 class="decorative-heading">How the RAG Flow Works (Jarvis Loop)</h3>
                                <p>Here’s a simplified breakdown of what happens when Ms. Potts decides a query needs document-based grounding:
                                    <ol>
                                        <li>User Query → classified as needing RAG</li>
                                        <li>Retriever searches Chroma for the most relevant chunks</li>
                                        <li>Context Injection → the top chunks are added into a custom prompt template</li>
                                        <li>LLaMA 3.3 (via Bedrock) generates a final answer using the injected context</li>
                                        <li>Jarvis Response is sent back to Ms. Potts and ultimately to the user</li>
                                    </ol>
                                </p>
                                <p>This setup allows us to handle complex nutrition questions where the answer isn’t stored in a DB or hardcoded—but must be reasoned from literature.</p>
                                <p>Example Prompt (RAG Injection)</p>
                                <code>System: You are a helpful dietitian providing evidence-based answers grounded in the provided documents.

                                    <p>User Question: Can calcium supplements reduce iron absorption?</p>
                                    Context:
                                    <li>Document 1: "Iron and calcium compete for absorption sites in the gut. High calcium intake may reduce non-heme iron absorption..."</li><br/>
                                    <li>Document 2: "Recommendations suggest spacing calcium and iron supplements several hours apart..."</li>
                                    <br/>
                                    Answer:
                                </code>
                                <p>Response: "Yes, calcium can reduce the absorption of non-heme iron when taken together. It’s recommended to separate calcium and iron intake by a few hours."</p>

                                <h3 class="decorative-heading">What We Learned</h3>
                                    <p>Implementing RAG taught us how to balance recall, relevance, and response quality. We learned to:</p>
                                    <ul>
                                        <li>Choose ChromaDB for fast prototyping and easy integration with LangChain</li>
                                        <li>Use semantic-aware chunking to improve retrieval granularity</li>
                                        <li>Tune retrieval thresholds to avoid overloading the prompt with irrelevant context</li>
                                        <li>Maintain high factuality while still generating personalized, conversational outputs</li>
                                    </ul>
                                    <p>In short: We didn’t just retrieve data—we taught our assistant to think in context.</p>                             
                            </div>
                            <div class="navigation">        
                                <a href="./NutriBot_intro.html" class="btn-nav" title="Go to Introduction"> Prev: Introduction</a>
                                <a href="./NutriBot_RAG_Engine.html" class="btn-nav" title="Go to the Section 4: Our RAG Engine">Next: Section 3-Ms. Potts</a>
                            </div> 
                        </article>
                    </div>
                </div>
            </div>
            
        
        <!-- Footer-->
        <footer class="border-top">
            <div class="container px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-md-10 col-lg-8 col-xl-7">
                        <ul class="list-inline text-center">
                            <li class="list-inline-item">
                                <a href="https://www.linkedin.com/in/shilpamusale/" target="_blank">
                                    <span class="fa-stack fa-lg">
                                        <i class="fas fa-circle fa-stack-2x"></i>
                                        <i class="fab fa-linkedin-in fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                            
                            <li class="list-inline-item">
                                <a href="https://github.com/ishi3012">
                                    <span class="fa-stack fa-lg">
                                        <i class="fas fa-circle fa-stack-2x"></i>
                                        <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                            <li class="list-inline-item">
                                <a href="mailto:ishishiv3012@gmail.com">
                                    <span class="fa-stack fa-lg">
                                        <i class="fas fa-circle fa-stack-2x"></i>
                                        <i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a>
                            </li>
                        </ul>
                        <div class="small text-center text-muted fst-italic">Copyright &copy; The Code Diary 2025</div>
                    </div>
                </div>
            </div>
        </footer>
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="js/scripts.js"></script>
    </body>
</html>
